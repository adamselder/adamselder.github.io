# Epidemic Simulation

## Specifications

### Parameters
Epidemic parameters may come from the egocentric data analysis, other datasets or the literature. This chapter is a explicit print out of the parameters used in this analysis.

```{r params-xlsx, echo=FALSE}
# See here for how to turn cell contents into bulleted lists
# https://norcalbiostat.netlify.com/post/fancifying-excel-tables-in-r-markdown-with-kable-extra/

#------------------------------------------------------------
# Load packages and set options
#------------------------------------------------------------
library(dplyr)
library(readxl)
library(kableExtra)
library(stringr)
library(DT)

options(DT.options = list(lengthMenu = c(100,250, 500),
			  scrollX = TRUE,
			  autoWidth = TRUE,
			  columnDefs = list(list(width = '30%', targets = list(2,13)))
			  ))

#------------------------------------------------------------
# Read in parameters from xlsx
#------------------------------------------------------------

rawdat <- read_excel("input/param_xlsx/Model Parameters.Sara.work.xlsx") %>% 
  select(1:3, #description, data, type
         6# Source
         )

#------------------------------------------------------------
# Format 
#------------------------------------------------------------

# Remove lines that have the 1st column empty
out <- rawdat[!is.na(rawdat[,1]),]

# Add links to the Git Issues column
# Use the function shiny::a() because paste0 will escape "
# Couldn't get this to work!
#if (1==0) {
# out <- rawdat %>% 
# 	mutate(`Git Issues`=paste0("https://github.com/statnet/SHAMP/issues/", `Git Issues`)) %>% 
# 	mutate(`Git Issues`=shiny::a(`Git Issues`, class='web', href=`Git Issues`))
# 
# out <- rawdat %>% 
# 	mutate(`Git Issues`=shiny::a(`Git Issues`, 
# 				     class='web', 
# 				     href=paste0('"https://github.com/statnet/SHAMP/issues/', 
# 						 `Git Issues`, '"')))
# }
```

```{r print-params, echo=FALSE, cache=FALSE}

#------------------------------------------------------------
# Print as a DT::datatable
#------------------------------------------------------------

# escape=FALSE allows the html links to work for the Git Issues column
DT::datatable(out, rownames=FALSE,   filter='top', escape=FALSE) # 

```

### EpiModel Output Summary

```{r}

#head()

```


## Calibration

<div class="alert alert-warning">
<h3>The calibration section has yet to be complete. Please refer back to this page in the future.</h3> 
</div>

## Results

<div class="alert alert-warning">
<h3>The results section has yet to be complete. Please refer back to this page in the future.</h3> 
</div>
</div>

## Validation


```{r validation, echo=FALSE, out.width="100%"}
htmltools::includeHTML(
  'validation_scripts/validation.html' )
```